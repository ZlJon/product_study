<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>상품등록</title>
    <style>
      .field-error {
        font-size: 0.8em;
        font-weight: bold;
        color: red;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <h3>상품등록</h3>
      <form action="" method="post" th:object="${form}">
        <div th:if="${#fields.hasGlobalErrors()}">
          <p
            class="field-error"
            th:each="err:${#fields.globalErrors()}"
            th:text="${err}"
          ></p>
        </div>
        <!-- th:object="${form}"는 컨트롤러에서의 @ModelAttribute("form")와 같음 
            th:object="${form}"을 사용하면 아래에서 th:value="*{pname}" 로 선택자 구문으로 사용할 수 있게 됨.-->
        <div>
          <label for="">상품명</label>
          <input type="text" name="pname" th:value="*{pname}" />
          <span class="field-error" th:errors="*{pname}"></span>
          <!-- 요청데이터를 저장하는 것. 즉 등록 버튼을 눌렸는데 오류가 나면 입력한 값이 사라지지 않고 유지됨. 반드시-> @ModelAttribute("form") SaveForm saveForm이 컨트롤러에 선언되어 있어야 함. -->
        </div>
        <div>
          <label for="">수량</label>
          <input type="text" name="quantity" th:value="*{quantity}" />
          <span class="field-error" th:errors="*{quantity}"></span>
        </div>
        <div>
          <label for="">가격</label>
          <input type="text" name="price" th:value="*{price}" />
          <span class="field-error" th:errors="*{price}"></span>
        </div>
        <div>
          <button type="submit" th:text="#{button.add}">등-록--</button>
        </div>
      </form>
    </div>
  </body>
</html>
